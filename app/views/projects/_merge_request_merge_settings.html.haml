- form = local_assigns.fetch(:form)

.form-group
  = label_tag :merge_method_merge, class: 'label-light' do
    Merge method
  .radio
    = label_tag :project_merge_method_merge do
      = form.radio_button :merge_method, :merge, class: "js-merge-method-radio"
      %strong Merge commit
      %br
      %span.descr
        A merge commit is created for every merge, and merging is allowed as long as there are no conflicts.

  .radio
    = label_tag :project_merge_method_ff do
      = form.radio_button :merge_method, :ff, class: "js-merge-method-radio"
      %strong Fast-forward merge
      %br
      %span.descr
        No merge commits are created and all merges are fast-forwarded, which means that merging is only allowed if the branch could be fast-forwarded.
      %br
      %span.descr
        When fast-forward merge is not possible, the user must first rebase locally.

.form-group
  .checkbox.builds-feature{ class: ("hidden" if @project && @project.project_feature.send(:builds_access_level) == 0) }
    = form.label :only_allow_merge_if_pipeline_succeeds do
      = form.check_box :only_allow_merge_if_pipeline_succeeds
      %strong Only allow merge requests to be merged if the pipeline succeeds
      %br
      %span.descr
        Pipelines need to be configured to enable this feature.
        = link_to icon('question-circle'), help_page_path('user/project/merge_requests/merge_when_pipeline_succeeds', anchor: 'only-allow-merge-requests-to-be-merged-if-the-pipeline-succeeds')
  .checkbox
    = form.label :only_allow_merge_if_all_discussions_are_resolved do
      = form.check_box :only_allow_merge_if_all_discussions_are_resolved
      %strong Only allow merge requests to be merged if all discussions are resolved
  .checkbox
    = form.label :resolve_outdated_diff_discussions do
      = form.check_box :resolve_outdated_diff_discussions
      %strong Automatically resolve merge request diff discussions when they become outdated
  .checkbox
    = form.label :printing_merge_request_link_enabled do
      = form.check_box :printing_merge_request_link_enabled
      %strong Show link to create/view merge request when pushing from the command line
