.form_group.append-bottom-20
  %label.append-bottom-10{ for: 'cluster-name' }
    = s_('ClusterIntegration|Cluster name')
  .input-group
    %input.form-control.cluster-name{ value: @cluster.name, disabled: true }
    %span.input-group-addon.clipboard-addon
      = clipboard_button(text: @cluster.name, title: s_('ClusterIntegration|Copy cluster name'))

= form_for @cluster, url: namespace_project_cluster_path(@project.namespace, @project, @cluster), as: :cluster do |field|
  = form_errors(@cluster)
  = field.fields_for :platform_kubernetes, @cluster.platform_kubernetes do |platform_kubernetes_field|
    .form-group
    = platform_kubernetes_field.label :api_url, s_('ClusterIntegration|API URL')
    = platform_kubernetes_field.text_field :api_url, class: 'form-control', disabled: @cluster.managed?

    .form-group
    = platform_kubernetes_field.label :namespace, s_('ClusterIntegration|Project namespace (optional, unique)')
    = platform_kubernetes_field.text_field :namespace, class: 'form-control', placeholder: Clusters::Platforms::Kubernetes.namespace_for_project(@project), disabled: @cluster.managed?

  .form-group
    = field.submit s_('ClusterIntegration|Save cluster'), class: 'btn btn-save'
