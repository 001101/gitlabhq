%h5= s_('ClusterIntegration|Integration status')
%p
  - if @cluster.enabled?
    - if can?(current_user, :update_cluster, @cluster)
      = s_('ClusterIntegration|Cluster integration is enabled for this project. Disabling this integration will not affect your cluster, it will only temporarily turn off GitLab\'s connection to it.')
    - else
      = s_('ClusterIntegration|Cluster integration is enabled for this project.')
  - else
    = s_('ClusterIntegration|Cluster integration is disabled for this project.')

.form-group
  %label
    = field.hidden_field :enabled, { class: 'js-toggle-input'}

    %button{ type: 'button',
      class: "js-toggle-cluster project-feature-toggle #{'is-checked' unless !@cluster.enabled?} #{'is-disabled' unless can?(current_user, :update_cluster, @cluster)}",
      "aria-label": s_("ClusterIntegration|Toggle Cluster"),
      disabled: !can?(current_user, :update_cluster, @cluster) }
      %span.toggle-icon
        = sprite_icon('status_success_borderless', size: 16, css_class: 'toggle-icon-svg toggle-status-checked')
        = sprite_icon('status_failed_borderless', size: 16, css_class: 'toggle-icon-svg toggle-status-unchecked')
