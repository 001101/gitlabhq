- page_title "Import repository"
%h3.page-title
  Import repository

%hr

- if @project.import_failed?
  .alert.alert-danger
    %p The repository could not be imported.
    %pre.prepend-top-10
      :preserve
        #{@project.import_error.try(:strip)}

= form_for @project, url: namespace_project_import_path(@project.namespace, @project), method: :post, html: { class: 'form-horizontal' } do |f|
  .form-group.import-url-data
    = f.label :import_url, class: 'control-label' do
      %span Import existing git repo
    .col-sm-10
      = f.text_field :import_url, class: 'form-control', placeholder: 'https://github.com/randx/six.git'
      .well.prepend-top-20
        This URL must be publicly accessible or you can add a username and password like this: https://username:password@gitlab.com/company/project.git.
        %br
        The import will time out after 4 minutes. For big repositories, use a clone/push combination.
        For SVN repositories, check #{link_to "this migrating from SVN doc.", "http://doc.gitlab.com/ce/workflow/importing/migrating_from_svn.html"}
  .form-actions
    = f.submit 'Start import', class: "btn btn-create", tabindex: 4
