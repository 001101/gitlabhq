/ Side-by-side diff view
%div.text-file
  %table
    - each_diff_line(diff, index) do |line, type, line_code, line_new, line_old, raw_line, e|
      %tr.line_holder.parallel{ id: line_code, class: "#{type}" }
        - if type != 'match'
          %td.old_line
            = link_to raw(type == "new" ? "&nbsp;" : line_old), "##{line_code}", id: line_code
            - if type == 'old'
              %td.line_content{class: "parallel noteable_line old #{line_code}", "line_code" => line_code}= line
            - else
              %td.line_content.parallel= line
          %td.new_line{data: {linenumber: line_new}}
            = link_to raw(type == "old" ? "&nbsp;" : line_new) , "##{line_code}", id: line_code
            - if type == 'new'
              %td.line_content.parallel{class: "noteable_line #{type} #{line_code}", "line_code" => line_code}= line
            - else
              %td.line_content.parallel= line
