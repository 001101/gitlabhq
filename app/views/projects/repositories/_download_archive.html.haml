- ref = ref || nil
- btn_class = btn_class || ''
%span.btn-group{class: btn_class}
  .dropdown.inline
    %button.btn{ 'data-toggle' => 'dropdown' }
      = icon('download')
      %span.caret
      %span.sr-only
        Select Archive Format
    %ul.dropdown-menu.dropdown-menu-align-right{ role: 'menu' }
      %li.dropdown-header Source code
      %li
        = link_to archive_namespace_project_repository_path(@project.namespace, @project, ref: ref, format: 'zip'), rel: 'nofollow' do
          %i.fa.fa-download
          %span Download zip
      %li
        = link_to archive_namespace_project_repository_path(@project.namespace, @project, ref: ref, format: 'tar.gz'), rel: 'nofollow' do
          %i.fa.fa-download
          %span Download tar.gz
      %li
        = link_to archive_namespace_project_repository_path(@project.namespace, @project, ref: ref, format: 'tar.bz2'), rel: 'nofollow' do
          %i.fa.fa-download
          %span Download tar.bz2
      %li
        = link_to archive_namespace_project_repository_path(@project.namespace, @project, ref: ref, format: 'tar'), rel: 'nofollow' do
          %i.fa.fa-download
          %span Download tar
      - artifacts = @project.latest_success_builds_for(@ref)
      - if artifacts.any?
        %li.dropdown-header Artifacts
        - artifacts.each do |job|
          %li
            = link_to download_namespace_project_build_artifacts_path(@project.namespace, @project, job), rel: 'nofollow' do
              %span Download '#{job.name}'
