%h3.page-title Edit Group
%hr
= form_for [:admin, @group], html: { class: "form-horizontal" } do |f|
  - if @group.errors.any?
    .alert.alert-danger
      %span= @group.errors.full_messages.first
  .form-group.group_name_holder
    = f.label :name, class: 'control-label' do
      Group name
    .col-sm-10
      = f.text_field :name, placeholder: "Example Group", class: "form-control"

  .form-group.group-description-holder
    = f.label :description, "Details", class: 'control-label'
    .col-sm-10
      = f.text_area :description, maxlength: 250, class: "form-control js-gfm-input", rows: 4

  .form-group.group_name_holder
    = f.label :path, class: 'control-label' do
      %span.cred Group path
    .col-sm-10
      = f.text_field :path, placeholder: "example-group", class: "form-control danger"
      %ul.cred
        %li Changing group path can have unintended side effects.
        %li Renaming group path will rename directory for all related projects
        %li It will change web url for access group and group projects.
        %li It will change the git path to repositories under this group.


  %fieldset
    %legend LDAP group settings
    %div.form-holder
      = form_for @group do |f|
        .form-group.clearfix
          = f.label :ldap_cn, class: 'control-label' do
            LDAP Group cn
          .col-sm-10
            = f.hidden_field :ldap_cn, placeholder: "Ex. QA group", class: "xxlarge ajax-ldap-groups-select input-mn-300"
            .help-block
              Synchronize #{@group.name}'s members with this LDAP group.
              %br
              If you select an LDAP group you do not belong to you will lose ownership of #{@group.name}.

        .form-group.clearfix
          = f.label :ldap_access, class: 'control-label' do
            LDAP Access
          .col-sm-10
            = f.select :ldap_access, options_for_select(UsersGroup.group_access_roles, @group.ldap_access)
            .help-block
              Default, minimum permission level for LDAP group members of #{@group.name}.
              %br
              You can manage permission levels for individual group members in the Members tab.

    .form-actions
      = f.submit 'Save changes', class: "btn btn-primary"
      = link_to  'Cancel', admin_groups_path, class: "btn btn-cancel"
