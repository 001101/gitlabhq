- @no_container = true
= render "admin/dashboard/head"

%div{ class: container_class }

  .top-area
    - scopes = [:all, :pending, :running, :finished]
    - paths = scopes.zip(scopes.map { |scope| admin_builds_path(scope: scope) }).to_h
    = render "projects/builds/builds", paths: paths

    .nav-controls
      - if @all_builds.running_or_pending.any?
        = link_to 'Cancel all', cancel_all_admin_builds_path, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger', method: :post

  .row-content-block.second-block
    #{(@scope || 'all').capitalize} builds

  %ul.content-list.builds-content-list
    - if @builds.blank?
      %li
        .nothing-here-block No builds to show
    - else
      .table-holder
        %table.table.builds
          %thead
            %tr
              %th Status
              %th Commit
              %th Project
              %th Runner
              %th Name
              %th
              %th

          - @builds.each do |build|
            = render "admin/builds/build", build: build

      = paginate @builds, theme: 'gitlab'
