- page_title 'Projects'
- @no_container = true
- @content_class = "geo-admin-container geo-admin-projects"
- params[:sync_status] ||= []

%div{ class: container_class }
  .top-area.scrolling-tabs-container.inner-page-scroll-tabs
    %ul.nav-links.nav.nav-tabs
      - opts = params[:sync_status].present? ? {} : { page: projects_admin_geo_nodes_path }
      = nav_link(opts) do
        = link_to projects_admin_geo_nodes_path do
          = _("All")
      = nav_link(html_options: { class: active_when(params[:sync_status] == "1") }) do
        = link_to projects_admin_geo_nodes_path(sync_status: "1") do
          = _("Pending")
      = nav_link(html_options: { class: active_when(params[:sync_status] == "2") }) do
        = link_to projects_admin_geo_nodes_path(sync_status: "2") do
          = _("Failures")
      = nav_link(html_options: { class: active_when(params[:sync_status] == "3") }) do
        = link_to projects_admin_geo_nodes_path(sync_status: "3") do
          = _("Never")

  .card.project-card.prepend-top-15
    #gitlab-ce-header.card-header
      %h5.mb-0.mt-0.p-2.d-flex
        %button.btn.btn-link.btn-card-header.d-flex.flex-fill{ type: 'button', data: { toggle: 'collapse', target: '#gitlab-ce' }, 'aria-expanded' => 'true', 'aria-controls' => 'gitlab-ce' }
          = sprite_icon('chevron-down', size: 18, css_class: 'card-expand-icon')
          = sprite_icon('chevron-up', size: 18, css_class: 'card-collapse-icon')
          %strong.header-text
            GitLab Community Edition
          %button.btn.btn-outline-primary.btn-sm{ type: 'button' }
            Resync
          
    #gitlab-ce.collapse.show{ 'aria-labelledby' => 'gitlab-ce-header' }
      .card-body
        .container
          .row
            .col-sm.project-status-container
              .project-status-title.text-muted
                Next sync scheduled at
              .project-status-content
                5 mins later
            .col-sm.project-status-container
              .project-status-title.text-muted
                Last sync attempt
              .project-status-content
                Yesterday 10:00 pm
            .col-sm.project-status-container
              .project-status-title.text-muted
                Retry counts
              .project-status-content
                5
            .col-sm.project-status-container
              .project-status-title.text-muted
                Error message
              .project-status-content.font-weight-bold
                Could not move repository out of the way


  .card.project-card
    #gitlab-ee-header.card-header
      %h5.mb-0.mt-0.p-2.d-flex
        %button.btn.btn-link.btn-card-header.d-flex.flex-fill{ type: 'button', data: { toggle: 'collapse', target: '#gitlab-ee' }, 'aria-expanded' => 'true', 'aria-controls' => 'gitlab-ee' }
          = sprite_icon('chevron-down', size: 18, css_class: 'card-expand-icon')
          = sprite_icon('chevron-up', size: 18, css_class: 'card-collapse-icon')
          %strong.header-text
            GitLab Enterprise Edition
          %button.btn.btn-outline-primary.btn-sm{ type: 'button' }
            Resync
          
    #gitlab-ee.collapse.show{ 'aria-labelledby' => 'gitlab-ee-header' }
      .card-body
        .container
          .row
            .col-sm.project-status-container
              .project-status-title.text-muted
                Next sync scheduled at
              .project-status-content
                5 mins later
            .col-sm.project-status-container
              .project-status-title.text-muted
                Last sync attempt
              .project-status-content
                Yesterday 10:00 pm
            .col-sm.project-status-container
              .project-status-title.text-muted
                Retry counts
              .project-status-content
                5
            .col-sm.project-status-container
              .project-status-title.text-muted
                Error message
              .project-status-content.font-weight-bold
                Could not move repository out of the way
